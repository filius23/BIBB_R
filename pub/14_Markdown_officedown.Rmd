---
title: "Mein zweites RMarkdown-Dokument"
author: "Dein Name"
date: "2022-09-11"
output:
  officedown::rdocx_document
---

```{r setup, include=FALSE}
if(Sys.getenv("USERNAME") == "filse" ) .libPaths("D:/R-library4") 
library(tidyverse)
library(flextable)
library(officer)
library(officedown)
## Achtung! Pfade relativ zum Speicherort, nicht Projekt
etbx <-  haven::read_dta("../data/BIBBBAuA_2018_suf1.0.dta", 
                         n_max = 2000,
                         col_select = c("S1","F518_SUF","m1202","az","zpalter","F1605e")) %>% 
  filter(F518_SUF < 99998, m1202 %in% 1:4, zpalter < 9999 ) %>% 
  mutate(ausb = factor(m1202, levels = 1:4, labels = c("ohne","dual/schul.","Aufst.","FH/Uni")),
         S1 = factor(S1,levels = 1:2,labels =c("m","w")))
```
  
# Überschrift 1

## Unterüberschrift 2

Dies ist ein R Markdown-Dokument. 
Markdown ist eine einfache Syntax für die Erstellung von HTML-, PDF- und MS Word-Dokumenten. 
Text kann **fett** und *kursiv* geschrieben werden. 

Wenn wir auf die Schaltfläche **Knit** klicken, wird ein Dokument erstellt.
Das sowohl den Inhalt als auch die Ausgabe aller eingebetteten R-Code-Bausteine innerhalb des Dokuments enthält. 
Ein R-Code-Baustein ("chunk") sieht so aus:

```{r tab.cap="Eine Tabelle", echo=FALSE,  tab.id='tab2'}
etbx %>% count(ausb)
```

Mit "\@ref(tab:tab2)" können wir einen Querverweis einbauen:

This is a reference to flextable \@ref(tab:tab2).


```{r, echo= FALSE}
n_women <- etbx %>% filter(S1 == "w") %>% nrow(.)
```
\newpage

# Grafik-Kapitel

In meinem Datensatz befinden sich `r n_women` Frauen.

```{r fig.cap="Ein ggplot", echo = FALSE, message= FALSE, fig.id = "scatterplot" }
ggplot(etbx,aes(x = F518_SUF,y=zpalter)) + geom_point()
```


```{r , echo=FALSE, fig.height= 2}
#knitr::include_graphics("103_tidyverse.png")
```

