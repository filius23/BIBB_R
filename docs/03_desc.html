<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R am BIBB - 3&nbsp; Einen Überblick erhalten</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04_viz.html" rel="next">
<link href="./02_intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Einen Überblick erhalten</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R am BIBB</a> 
        <div class="sidebar-tools-main">
    <a href="./R-am-BIBB.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Willkommen</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einstieg in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Arbeiten mit Datensätzen in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_desc.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Einen Überblick erhalten</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_viz.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Visualisierung mit <code>{ggplot2}</code></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_data_wrangle1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Wrangling I: Labels</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_data_wrangle2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Wrangling II</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_inferenz.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Inferenzstatistik &amp; Zusammenhangsmaße</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_reg.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regressionsmodelle</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_reg2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Regressionsmodelle: Erweiterungen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_log_reg.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Logistische Regressionsmodelle</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_data_wrangle3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Data Wrangling III</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_apply_loop.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Schleifen &amp; Funktionen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_tabellenexport.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Tabellenexport</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_RMarkdown.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">RMarkdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">Links &amp; Weiterführendes</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#häufigkeitsauszählungen" id="toc-häufigkeitsauszählungen" class="nav-link active" data-scroll-target="#häufigkeitsauszählungen"> <span class="header-section-number">3.1</span> Häufigkeitsauszählungen</a></li>
  <li><a href="#andere-tabellenwerte" id="toc-andere-tabellenwerte" class="nav-link" data-scroll-target="#andere-tabellenwerte"> <span class="header-section-number">3.2</span> Andere Tabellenwerte</a></li>
  <li><a href="#kontingenztabellen" id="toc-kontingenztabellen" class="nav-link" data-scroll-target="#kontingenztabellen"> <span class="header-section-number">3.3</span> Kontingenztabellen</a>
  <ul class="collapse">
  <li><a href="#ue3_1" id="toc-ue3_1" class="nav-link" data-scroll-target="#ue3_1"> <span class="header-section-number">3.3.1</span> <span>Übung</span></a></li>
  </ul></li>
  <li><a href="#NA03" id="toc-NA03" class="nav-link" data-scroll-target="#NA03"> <span class="header-section-number">3.4</span> Fehlende Werte in R: <code>NA</code></a>
  <ul class="collapse">
  <li><a href="#ue3_2" id="toc-ue3_2" class="nav-link" data-scroll-target="#ue3_2"> <span class="header-section-number">3.4.1</span> <span>Übung</span></a></li>
  </ul></li>
  <li><a href="#mehrere-kennzahlen-in-einer-tabelle" id="toc-mehrere-kennzahlen-in-einer-tabelle" class="nav-link" data-scroll-target="#mehrere-kennzahlen-in-einer-tabelle"> <span class="header-section-number">3.5</span> Mehrere Kennzahlen in einer Tabelle</a></li>
  <li><a href="#crosscount" id="toc-crosscount" class="nav-link" data-scroll-target="#crosscount"> <span class="header-section-number">3.6</span> Kontingenztabellen mit <code>count()</code></a>
  <ul class="collapse">
  <li><a href="#ue3_3" id="toc-ue3_3" class="nav-link" data-scroll-target="#ue3_3"> <span class="header-section-number">3.6.1</span> <span>Übung</span></a></li>
  </ul></li>
  <li><a href="#lage--konzentrationsmaße" id="toc-lage--konzentrationsmaße" class="nav-link" data-scroll-target="#lage--konzentrationsmaße"> <span class="header-section-number">3.7</span> Lage- &amp; Konzentrationsmaße</a>
  <ul class="collapse">
  <li><a href="#kennzahlentabelle-mit-summarise" id="toc-kennzahlentabelle-mit-summarise" class="nav-link" data-scroll-target="#kennzahlentabelle-mit-summarise"> <span class="header-section-number">3.7.1</span> Kennzahlentabelle mit <code>summarise</code></a></li>
  <li><a href="#lage--und-streuungsmaße-vergleichen" id="toc-lage--und-streuungsmaße-vergleichen" class="nav-link" data-scroll-target="#lage--und-streuungsmaße-vergleichen"> <span class="header-section-number">3.7.2</span> Lage- und Streuungsmaße vergleichen</a></li>
  <li><a href="#ue3_4" id="toc-ue3_4" class="nav-link" data-scroll-target="#ue3_4"> <span class="header-section-number">3.7.3</span> <span>Übung</span></a></li>
  </ul></li>
  <li><a href="#übungen" id="toc-übungen" class="nav-link" data-scroll-target="#übungen"> <span class="header-section-number">3.8</span> Übungen</a>
  <ul class="collapse">
  <li><a href="#descue1" id="toc-descue1" class="nav-link" data-scroll-target="#descue1"> <span class="header-section-number">3.8.1</span> Übung 1</a></li>
  <li><a href="#descue2" id="toc-descue2" class="nav-link" data-scroll-target="#descue2"> <span class="header-section-number">3.8.2</span> Übung 2</a></li>
  <li><a href="#descue3" id="toc-descue3" class="nav-link" data-scroll-target="#descue3"> <span class="header-section-number">3.8.3</span> Übung 3</a></li>
  <li><a href="#descue4" id="toc-descue4" class="nav-link" data-scroll-target="#descue4"> <span class="header-section-number">3.8.4</span> Übung 4</a></li>
  </ul></li>
  <li><a href="#hinweise" id="toc-hinweise" class="nav-link" data-scroll-target="#hinweise"> <span class="header-section-number">3.9</span> Hinweise</a>
  <ul class="collapse">
  <li><a href="#round" id="toc-round" class="nav-link" data-scroll-target="#round"> <span class="header-section-number">3.9.1</span> Runden mit <code>round()</code></a></li>
  <li><a href="#wie-kann-ich-mir-in-r-automatisch-die-häufigsteseltenste-ausprägung-ausgeben-lassen" id="toc-wie-kann-ich-mir-in-r-automatisch-die-häufigsteseltenste-ausprägung-ausgeben-lassen" class="nav-link" data-scroll-target="#wie-kann-ich-mir-in-r-automatisch-die-häufigsteseltenste-ausprägung-ausgeben-lassen"> <span class="header-section-number">3.9.2</span> Wie kann ich mir in R automatisch die häufigste/seltenste Ausprägung ausgeben lassen?</a></li>
  <li><a href="#gini_graph" id="toc-gini_graph" class="nav-link" data-scroll-target="#gini_graph"> <span class="header-section-number">3.9.3</span> Gini-Koeffizient</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="tab" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Einen Überblick erhalten</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Nachdem wir Datensätze importiert haben, wollen wir nun einen Überblick erhalten. Jede statistische Auswertung startet mit einer Beschreibung der Variablen. In dieser Session werden wir sehen, wie wir uns mit Tabellen einen Überblick über die Informationen in einem Datensatz verschaffen können. Wir werden auch in dieser Session mit dem ETB2018 arbeiten. Wir starten also mit dem Einlesen der Daten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"haven"</span>) <span class="co"># falls nicht schon installiert </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) <span class="co"># datenimport für stata-datensätze</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># tidyverse</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>etb18 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"./data/BIBBBAuA_2018_suf1.0.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="häufigkeitsauszählungen" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="häufigkeitsauszählungen"><span class="header-section-number">3.1</span> Häufigkeitsauszählungen</h2>
<p>Uns stehen (mindestens) drei Befehle zur Verfügung, um eine Häufigkeitsauszählung zu erstellen:</p>
<ul>
<li><code>table()</code></li>
<li><code>xtabs()</code></li>
<li><code>count()</code> aus <code>{dplyr}</code></li>
</ul>
<p>Einfachster Befehl für die Auszählung von Häufigkeiten ist der <code>table()</code> Befehl. Beispielsweise mit der Variable <code>m1202</code> zur Ausbildung der Befragten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(etb18<span class="sc">$</span>m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  -1    1    2    3    4 
  45 1091 9297 1725 7854 </code></pre>
</div>
</div>
<p>Die Syntax für <code>xtabs()</code> ist etwas anders, aber hier bekommen wir die Variablennamen nochmal angezeigt - der wesentliche Output ist aber der gleiche:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>m1202,<span class="at">data=</span>etb18)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>m1202
  -1    1    2    3    4 
  45 1091 9297 1725 7854 </code></pre>
</div>
</div>
<p>Wir bekommen hier die absoluten Häufigkeiten angezeigt. In der ersten Zeile werden die verschiedenen Ausprägungen aufgelistet, in der zweiten Zeile stehen dann die Häufigkeiten.</p>
<p>Allerdings werden sowohl für <code>table()</code> als auch <code>xabs()</code> die labels in der Ausgabe erstmal ignoriert. Mit <code>val_labels()</code> aus dem Paket <code>{labelled}</code> können wir die Labels aus dem Datensatz abrufen. - bspw. steht <code>1</code> dafür, dass der*die Befragte die keine Berufsabschluss besitzt:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"labelled"</span>) <span class="co"># nur einmal nötig</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">val_labels</span>(etb18<span class="sc">$</span>m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                                            keine Angabe 
                                                      -1 
                                    Ohne Berufsabschluss 
                                                       1 
duale o. schulische Berufsausbildung/einf.,mittl. Beamte 
                                                       2 
Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.) 
                                                       3 
        Fachhochschule, Universität/ geh., höhere Beamte 
                                                       4 </code></pre>
</div>
</div>
<div class="cell">

</div>
<p>1091 Befragte haben keinen Berufsabschluss, 1725 Befragte haben Aufstiegsfortbildung usw. (Zu labels und die Arbeit mit value labels in R später mehr)</p>
<p>Mit <code>count()</code> aus <code>{dplyr}</code> bekommen wir die labels direkt angezeigt, auch hier verwenden wir wieder die Schreibweise <a href="02_intro.html#pipe">mit der Pipe <code>%&gt;%</code></a>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> <span class="fu">count</span>(m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  m1202                                                             n
  &lt;dbl+lbl&gt;                                                     &lt;int&gt;
1 -1 [keine Angabe]                                                45
2  1 [Ohne Berufsabschluss]                                      1091
3  2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte]  9297
4  3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)]  1725
5  4 [Fachhochschule, Universität/ geh., höhere Beamte]          7854</code></pre>
</div>
</div>
<p>Wir können auch Tabellen unter einem frei wählbaren Namen ablegen und später wieder aufrufen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>m1202,etb18)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> etb18 <span class="sc">%&gt;%</span> <span class="fu">count</span>(m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir sehen hier, dass die Tabelle mit <code>xtabs()</code> eine neue Objektform ist, ein table. Mit <code>count()</code> wird hingegen ein <code>data.frame</code> erstellt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(t1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xtabs" "table"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(t2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
</section>
<section id="andere-tabellenwerte" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="andere-tabellenwerte"><span class="header-section-number">3.2</span> Andere Tabellenwerte</h2>
<p>Mit Hilfe weiterer Funktionen können wir die Häufigkeitstabellen jeweils anpassen:</p>
<ul>
<li><code>prop.table()</code>: relative Werte/Anteile</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>m1202,<span class="at">data=</span>etb18) <span class="sc">%&gt;%</span> <span class="fu">prop.table</span>(.) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>m1202
         -1           1           2           3           4 
0.002248651 0.054517290 0.464571257 0.086198281 0.392464521 </code></pre>
</div>
</div>
<p>0.225% aller Befragten haben keine Berufsausbildung.</p>
<ul>
<li><code>cumsum()</code>: kumulierte Werte</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>m1202,<span class="at">data=</span>etb18) <span class="sc">%&gt;%</span> <span class="fu">cumsum</span>(.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   -1     1     2     3     4 
   45  1136 10433 12158 20012 </code></pre>
</div>
</div>
<div class="cell">

</div>
<p>1136 Befragte haben eine duale Berufsausbildung oder keine Berufsausbildung.</p>
<ul>
<li><code>prop.table()</code> mit <code>cumsum()</code>: kumulierte relative Häufigkeiten</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>m1202,<span class="at">data=</span>etb18) <span class="sc">%&gt;%</span> <span class="fu">prop.table</span>() <span class="sc">%&gt;%</span> <span class="fu">cumsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         -1           1           2           3           4 
0.002248651 0.056765940 0.521337198 0.607535479 1.000000000 </code></pre>
</div>
</div>
<div class="cell">

</div>
<p>5.677% aller Befragten haben eine duale Berufsausbildung oder keine Berufsausbildung.</p>
</section>
<section id="kontingenztabellen" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="kontingenztabellen"><span class="header-section-number">3.3</span> Kontingenztabellen</h2>
<p>Aus Kontingenztabellen erfahren wir, wie häufig Merkmalskombinationen auftreten. Auch für Kontingenztabellen können wir <code>table()</code> verwenden. Zum Beispiel können wir uns eine Tabelle anzeigen lassen, die uns die Häufigkeiten des Familienstatus getrennt nach Geschlechtern zeigt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(etb18<span class="sc">$</span>S1, etb18<span class="sc">$</span>m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      -1    1    2    3    4
  1   21  594 4371 1073 4015
  2   24  497 4926  652 3839</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>S1<span class="sc">+</span>m1202, <span class="at">data =</span> etb18)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   m1202
S1    -1    1    2    3    4
  1   21  594 4371 1073 4015
  2   24  497 4926  652 3839</code></pre>
</div>
</div>
<p>Wir erkennen aus dieser Tabelle beispielsweise, dass 4926 Befragte weiblich (<code>S1=2</code>) und ohne Berufsabschluss (<code>m1202 = 5</code>) sind.</p>
<p>Hier ist <code>xtabs()</code> informativer als <code>table()</code>. Hier werden die Spalten und Zeilen beschriftet. Der Übersichtlichkeit halber verwende ich meistens <code>xtabs()</code>, alle Operationen sind aber genauso auch mit <code>table()</code> möglich.</p>
<section id="ue3_1" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="ue3_1"><span class="header-section-number">3.3.1</span> <a href="#descue1">Übung</a></h3>
</section>
</section>
<section id="NA03" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="NA03"><span class="header-section-number">3.4</span> Fehlende Werte in R: <code>NA</code></h2>
<p>Um die Werte mit <code>-1</code> auch in R als fehlende Angabe zu kennzeichnen, müssen wir sie in <code>etb18</code> auf <code>NA</code> setzen. Dazu rufen wir <code>etb18$m1202</code> auf und filtern mit <code>[]</code> nur die Werte für <code>m1202</code> gleich <code>-1</code> heraus. Im vorherigen Kapitel haben wir kennengelernt, dass wir so spezifische Werte aufrufen können:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>etb18<span class="sc">$</span>m1202[etb18<span class="sc">$</span>m1202 <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span>] <span class="co"># nur m1202 = -1 aufrufen</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;labelled&lt;double&gt;[45]&gt;: Höchster Ausbildungsabschluss
 [1] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1
[26] -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1

Labels:
 value                                                    label
    -1                                             keine Angabe
     1                                     Ohne Berufsabschluss
     2 duale o. schulische Berufsausbildung/einf.,mittl. Beamte
     3 Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)
     4         Fachhochschule, Universität/ geh., höhere Beamte</code></pre>
</div>
</div>
<p>(Hier bekommen wir nochmal die Labels ausgespuckt, was etwas suboptimal für die Übersichtlichkeit ist.)</p>
<p>Wenn wir daran mit <code>&lt;-</code> einen neuen Wert angeben, werden die aufgerufenen Werte damit überschrieben - hier überschreiben wir also alle Werte für <code>m1202 == -1</code> mit <code>NA</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>etb18<span class="sc">$</span>m1202[etb18<span class="sc">$</span>m1202 <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span>]  <span class="ot">&lt;-</span> <span class="cn">NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>NA</code> ist in der R der Code für fehlende Angaben, sie werden dann in <code>xtabs()</code> nicht aufgeführt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>m1202,<span class="at">data=</span>etb18)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>m1202
   1    2    3    4 
1091 9297 1725 7854 </code></pre>
</div>
</div>
<p>Wir können aber mit der Option <code>addNA = TRUE</code> die Auszählung von <code>NA</code> explizit anfordern:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>m1202,<span class="at">data=</span>etb18,<span class="at">addNA =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>m1202
   1    2    3    4 &lt;NA&gt; 
1091 9297 1725 7854   45 </code></pre>
</div>
</div>
<p>In <code>count()</code> wird <code>NA</code> auch mit ausgezählt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> <span class="fu">count</span>(m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  m1202                                                             n
  &lt;dbl+lbl&gt;                                                     &lt;int&gt;
1  1 [Ohne Berufsabschluss]                                      1091
2  2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte]  9297
3  3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)]  1725
4  4 [Fachhochschule, Universität/ geh., höhere Beamte]          7854
5 NA                                                               45</code></pre>
</div>
</div>
<p>Möchten wir das umgehen, nehmen wir wieder <code>filter()</code> zu Hilfe - mit <code>is.na()</code> können wir <code>NA</code> identifizieren. Durch Voranstellen von <code>!</code> können wir damit anfordern, dass alle nicht-<code>NA</code>-Werte mit <code>TRUE</code> behalten werden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> <span class="fu">count</span>(m1202)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  m1202                                                            n
  &lt;dbl+lbl&gt;                                                    &lt;int&gt;
1 1 [Ohne Berufsabschluss]                                      1091
2 2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte]  9297
3 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)]  1725
4 4 [Fachhochschule, Universität/ geh., höhere Beamte]          7854</code></pre>
</div>
</div>
<p>Mehr zu fehlenden Werten findet sich beispielsweise im <a href="https://tmb.njtierney.com/"><strong>The missing book</strong></a> von Nicholas Tierney &amp; Allison Horst.</p>
<section id="ue3_2" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="ue3_2"><span class="header-section-number">3.4.1</span> <a href="#descue2">Übung</a></h3>
</section>
</section>
<section id="mehrere-kennzahlen-in-einer-tabelle" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="mehrere-kennzahlen-in-einer-tabelle"><span class="header-section-number">3.5</span> Mehrere Kennzahlen in einer Tabelle</h2>
<p>Aus Stata kennen viele sicherlich folgende Ansicht mit <code>tab m1202</code>:</p>
<div class="cell" data-collectcode="false">
<div class="cell-output cell-output-stdout">
<pre><code>          Höchster Ausbildungsabschluss |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                   Ohne Berufsabschluss |      1,091        5.46        5.46
duale o. schulische Berufsausbildung/ei |      9,297       46.56       52.03
Aufstiegsfortbildung (Meister, Technike |      1,725        8.64       60.67
Fachhochschule, Universität/ geh., höhe |      7,854       39.33      100.00
----------------------------------------+-----------------------------------
                                  Total |     19,967      100.00</code></pre>
</div>
</div>
<p>In R hat ein <code>table()</code> oder <code>xtabs()</code> immer nur eine Art von Kennzahlen. Da wir aber mit <code>count()</code> die Auszählungen als <code>data.frame()</code> erhalten, können wir die relativen und kumulierten Häufigkeiten einfach als neue Variablen anfügen. Dabei hilft uns <code>mutate()</code>: mit <code>mutate(neu_variable = )</code> können wir neue Variablen in einen <code>data.frame()</code> hinzufügen:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./pic/103_mutate.png" style="width:90.0%;height:90.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><code>mutate()</code> entspricht also <code>dat1$var &lt;- ....</code>, das wir im vorherigen Kapitel kennen gelernt hatten. Allerdings können wir mit <code>mutate()</code> einfacher in einer Pipe-Kette arbeiten (und außerdem einige weitere Operationen einfacher erledigen - dazu später mehr).</p>
<p>Um also eine neue Spalte <code>pct</code>in unseren <code>data.frame</code> mit den Auszählungen einzufügen gehen wir wie folgt vor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202) <span class="co"># ausgangsbefehl</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  m1202                                                             n
  &lt;dbl+lbl&gt;                                                     &lt;int&gt;
1  1 [Ohne Berufsabschluss]                                      1091
2  2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte]  9297
3  3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)]  1725
4  4 [Fachhochschule, Universität/ geh., höhere Beamte]          7854
5 NA                                                               45</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct=</span> <span class="fu">prop.table</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="co"># erweitert um pct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  m1202                                                             n    pct
  &lt;dbl+lbl&gt;                                                     &lt;int&gt;  &lt;dbl&gt;
1  1 [Ohne Berufsabschluss]                                      1091  5.45 
2  2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte]  9297 46.5  
3  3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)]  1725  8.62 
4  4 [Fachhochschule, Universität/ geh., höhere Beamte]          7854 39.2  
5 NA                                                               45  0.225</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct=</span> <span class="fu">prop.table</span>(n)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">Cum =</span> <span class="fu">cumsum</span>(pct)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
  m1202                                                          n    pct    Cum
  &lt;dbl+lbl&gt;                                                  &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1  1 [Ohne Berufsabschluss]                                   1091  5.45    5.45
2  2 [duale o. schulische Berufsausbildung/einf.,mittl. Bea…  9297 46.5    51.9 
3  3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.…  1725  8.62   60.5 
4  4 [Fachhochschule, Universität/ geh., höhere Beamte]       7854 39.2    99.8 
5 NA                                                            45  0.225 100   </code></pre>
</div>
</div>
<p>Der Punkt <code>.</code> steht jeweils für das Ergebnis des vorherigen Schritts. Hier also:</p>
<ol type="1">
<li>Erstelle die Häufigkeitstablle für <code>m1202</code> <em>und dann (<code>%&gt;%</code>)</em></li>
<li>Berechne aus <code>n</code> die relativen Häufigkeiten <em>und dann (<code>%&gt;%</code>)</em></li>
<li>Berechne dafür die kumulierten Werte basierend auf <code>pct</code> <em>und dann (<code>%&gt;%</code>)</em></li>
<li>Runde das Ergebnis auf 3 Nachkommastellen</li>
</ol>
<p>Etwas störend ist aber noch das <code>NA</code>, die für fehlende Angaben steht und nicht berücksichtigt werden soll. Das können wir einfach <code>!is.na()</code> in <code>filter()</code> ausschließen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202) <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct=</span> <span class="fu">prop.table</span>(n)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">Cum =</span> <span class="fu">cumsum</span>(pct)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  m1202                                                           n   pct    Cum
  &lt;dbl+lbl&gt;                                                   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 1 [Ohne Berufsabschluss]                                     1091  5.46   5.46
2 2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamt…  9297 46.6   52.0 
3 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.…  1725  8.64  60.7 
4 4 [Fachhochschule, Universität/ geh., höhere Beamte]         7854 39.3  100   </code></pre>
</div>
</div>
</section>
<section id="crosscount" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="crosscount"><span class="header-section-number">3.6</span> Kontingenztabellen mit <code>count()</code></h2>
<p>Für eine Kontingenztabelle mit <code>count()</code> geben wir einfach die interessierenden Variablen in <code>count()</code> an. Das Ergebnis wird immer im “long shape” Format ausgegeben:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202,S1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  m1202                                                        S1              n
  &lt;dbl+lbl&gt;                                                    &lt;dbl+lbl&gt;   &lt;int&gt;
1 1 [Ohne Berufsabschluss]                                     1 [männlic…   594
2 1 [Ohne Berufsabschluss]                                     2 [weiblic…   497
3 2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte] 1 [männlic…  4371
4 2 [duale o. schulische Berufsausbildung/einf.,mittl. Beamte] 2 [weiblic…  4926
5 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)] 1 [männlic…  1073
6 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)] 2 [weiblic…   652
7 4 [Fachhochschule, Universität/ geh., höhere Beamte]         1 [männlic…  4015
8 4 [Fachhochschule, Universität/ geh., höhere Beamte]         2 [weiblic…  3839</code></pre>
</div>
</div>
<p>Auch hier können wir wie oben die relativen und kumulierten relativen Häufigkeiten anfügen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(m1202,S1) <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct=</span> <span class="fu">prop.table</span>(n)<span class="sc">*</span><span class="dv">100</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
  m1202                                                      S1          n   pct
  &lt;dbl+lbl&gt;                                                  &lt;dbl+l&gt; &lt;int&gt; &lt;dbl&gt;
1 1 [Ohne Berufsabschluss]                                   1 [män…   594  2.97
2 1 [Ohne Berufsabschluss]                                   2 [wei…   497  2.49
3 2 [duale o. schulische Berufsausbildung/einf.,mittl. Beam… 1 [män…  4371 21.9 
4 2 [duale o. schulische Berufsausbildung/einf.,mittl. Beam… 2 [wei…  4926 24.7 
5 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä… 1 [män…  1073  5.37
6 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä… 2 [wei…   652  3.27
7 4 [Fachhochschule, Universität/ geh., höhere Beamte]       1 [män…  4015 20.1 
8 4 [Fachhochschule, Universität/ geh., höhere Beamte]       2 [wei…  3839 19.2 </code></pre>
</div>
</div>
<p>Was aber wenn wir jetzt die Anteile <em>innerhalb</em> von Männern und Frauen möchten? Hier hilft uns <code>group_by()</code> weiter:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202,S1) <span class="sc">%&gt;%</span> </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(S1) <span class="sc">%&gt;%</span> </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct_gender =</span> <span class="fu">prop.table</span>(n)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
# Groups:   S1 [2]
  m1202                                                    S1          n pct_g…¹
  &lt;dbl+lbl&gt;                                                &lt;dbl+l&gt; &lt;int&gt;   &lt;dbl&gt;
1 1 [Ohne Berufsabschluss]                                 1 [män…   594  0.0591
2 1 [Ohne Berufsabschluss]                                 2 [wei…   497  0.0501
3 2 [duale o. schulische Berufsausbildung/einf.,mittl. Be… 1 [män…  4371  0.435 
4 2 [duale o. schulische Berufsausbildung/einf.,mittl. Be… 2 [wei…  4926  0.497 
5 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u… 1 [män…  1073  0.107 
6 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u… 2 [wei…   652  0.0658
7 4 [Fachhochschule, Universität/ geh., höhere Beamte]     1 [män…  4015  0.399 
8 4 [Fachhochschule, Universität/ geh., höhere Beamte]     2 [wei…  3839  0.387 
# … with abbreviated variable name ¹​pct_gender</code></pre>
</div>
</div>
<p>49.7% der Befragten Frauen haben eine duale oder schule Berufsausbildung.</p>
<p>Wir können dann auch mit einem angehängten <code>filter()</code> nur die beiden Zeilen <code>m1202 == 2</code> ausgeben lassen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(m1202,S1) <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(S1) <span class="sc">%&gt;%</span> </span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct_gender =</span> <span class="fu">prop.table</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(m1202 <span class="sc">==</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
# Groups:   S1 [2]
  m1202                                                    S1          n pct_g…¹
  &lt;dbl+lbl&gt;                                                &lt;dbl+l&gt; &lt;int&gt;   &lt;dbl&gt;
1 2 [duale o. schulische Berufsausbildung/einf.,mittl. Be… 1 [män…  4371   0.435
2 2 [duale o. schulische Berufsausbildung/einf.,mittl. Be… 2 [wei…  4926   0.497
# … with abbreviated variable name ¹​pct_gender</code></pre>
</div>
</div>
<p>…wir können diese Ausgaben natürlich immer auch ablegen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>tab_aus_gender <span class="ot">&lt;-</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>      etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(m1202)) <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">count</span>(m1202,S1) <span class="sc">%&gt;%</span> </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>         <span class="fu">group_by</span>(S1) <span class="sc">%&gt;%</span> </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>         <span class="fu">mutate</span>(<span class="at">pct_gender =</span> <span class="fu">prop.table</span>(n))</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tab_aus_gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "grouped_df" "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
<p>…und dann wieder weiterverwenden</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>tab_aus_gender <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(m1202 <span class="sc">==</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
# Groups:   S1 [2]
  m1202                                                    S1          n pct_g…¹
  &lt;dbl+lbl&gt;                                                &lt;dbl+l&gt; &lt;int&gt;   &lt;dbl&gt;
1 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u… 1 [män…  1073  0.107 
2 3 [Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u… 2 [wei…   652  0.0658
# … with abbreviated variable name ¹​pct_gender</code></pre>
</div>
</div>
<section id="ue3_3" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="ue3_3"><span class="header-section-number">3.6.1</span> <a href="#descue3">Übung</a></h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Bei langen Tabellen werden nicht alle Werte ausgegeben, sondern nur die ersten Zeilen. Um hier alle Werte zu bekommen, hilft <code>print(n=Inf)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> <span class="fu">count</span>(Bula,S1) <span class="co"># wird abgeschnitten</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> <span class="fu">count</span>(Bula,S1) <span class="sc">%&gt;%</span> <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>) <span class="co"># alle Werte werden gezeigt</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="lage--konzentrationsmaße" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="lage--konzentrationsmaße"><span class="header-section-number">3.7</span> Lage- &amp; Konzentrationsmaße</h2>
<p>Lagemaße sind statische Kennzahlen zur Beschreibung von metrischen Variablen, wie beispielsweise das arithmetische Mittel oder der Median. Einen Überblick bietet <code>summary()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(etb18<span class="sc">$</span>F518_SUF)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1    2200    3500   19811    6000   99999 </code></pre>
</div>
</div>
<p>Allerdings gibt es im Datensatz keine Befragten mit einem Bruttoverdienst von 99999 EUR. 99999 ist der Zahlencode <em>keine Angabe</em> , 99998 für <em>weiß nicht</em>. Um aussagekräftige Werte zu bekommen, müssen wir diese Werte mit <code>NA</code> überschreiben:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>etb18<span class="sc">$</span>F518_SUF[etb18<span class="sc">$</span>F518_SUF <span class="sc">%in%</span> <span class="dv">99998</span><span class="sc">:</span><span class="dv">99999</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span> <span class="co"># missings überschreiben</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(etb18<span class="sc">$</span>F518_SUF)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
      1    2000    3000    3532    4200   72000    3377 </code></pre>
</div>
</div>
<p>Wir können aber auch bestimmte Kennzahlen anfordern sehen uns die Bruttoverdienste der Befragten zu beschreiben:</p>
<ul>
<li>Minimum und Maximum: <code>min()</code>, <code>max()</code></li>
<li>arithm. Mittel: <code>mean()</code></li>
<li>Median: <code>median()</code></li>
<li>Quantile: <code>quantile()</code></li>
<li>Varianz: <code>var()</code></li>
<li>Standardabweichung: <code>sd()</code></li>
<li>Gini-Koeffizient: <code>Gini</code> aus dem Paket <code>{ineq}</code></li>
</ul>
<p>Wenn eine Variable <code>NA</code> enthält, müssen diese explizit ignoriert werden - ansonsten wird nur <code>NA</code> ausgegeben:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(etb18<span class="sc">$</span>F518_SUF)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Deshalb müssen wir die Option <code>na.rm = T</code> angeben:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(etb18<span class="sc">$</span>F518_SUF,<span class="at">na.rm =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3532.109</code></pre>
</div>
</div>
<p>Ein Quantil einer Verteilung trennt die Daten so in zwei Teile, dass <code>x</code>% der Daten darunter und 100-<code>x</code>% darüber liegen. Mit <code>quantile()</code>wir durch Angabe in der Option <code>probs =</code> beliebige Quantilgrenzen anfordern, zB. für die 40%-Quantilgrenze:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(etb18<span class="sc">$</span>F518_SUF,<span class="at">probs =</span> .<span class="dv">4</span>, <span class="at">na.rm =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 40% 
2550 </code></pre>
</div>
</div>
<p>Den <a href="#gini_graph">Gini-Koeffizienten</a> können wir mit <code>Gini()</code> aus dem Paket <code>ineq</code> berechnen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ineq"</span>) <span class="co"># einmal installieren</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ineq) <span class="co"># ineq laden</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Gini</span>(etb18<span class="sc">$</span>F518_SUF)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3543509</code></pre>
</div>
</div>
<section id="kennzahlentabelle-mit-summarise" class="level3" data-number="3.7.1">
<h3 data-number="3.7.1" class="anchored" data-anchor-id="kennzahlentabelle-mit-summarise"><span class="header-section-number">3.7.1</span> Kennzahlentabelle mit <code>summarise</code></h3>
<p>Mit Hilfe von <code>summarise()</code> aus <code>{dplyr}</code> können wir ein eigenes <code>summary()</code> bauen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">Minimum =</span> <span class="fu">min</span>(F518_SUF,<span class="at">na.rm =</span> T),</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Median =</span> <span class="fu">median</span>(F518_SUF,<span class="at">na.rm =</span> T),</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Mittelwert =</span> <span class="fu">mean</span>(F518_SUF,<span class="at">na.rm =</span> T),</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Maximum =</span> <span class="fu">max</span>(F518_SUF,<span class="at">na.rm =</span> T),</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Gini =</span> <span class="fu">Gini</span>(F518_SUF))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 5
  Minimum   Median Mittelwert Maximum    Gini
  &lt;dbl+lbl&gt;  &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl&gt;
1 1           3000      3532. 72000     0.354</code></pre>
</div>
</div>
<p>Der Vorteil des Ganzen wird im nächsten Schritt klarer.</p>
</section>
<section id="lage--und-streuungsmaße-vergleichen" class="level3" data-number="3.7.2">
<h3 data-number="3.7.2" class="anchored" data-anchor-id="lage--und-streuungsmaße-vergleichen"><span class="header-section-number">3.7.2</span> Lage- und Streuungsmaße vergleichen</h3>
<p>Häufig werden diese Kennzahlen erst im Vergleich richtig spannend, dafür hilft uns das <code>group_by()</code> Argument und <code>summarise()</code>:</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Bula) <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_inc =</span> <span class="fu">mean</span>(F518_SUF, <span class="at">na.rm =</span> T) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 2
   Bula                        mean_inc
   &lt;dbl+lbl&gt;                      &lt;dbl&gt;
 1  1 [Schleswig-Holstein]        3495.
 2  2 [Hamburg]                   3837.
 3  3 [Niedersachsen]             3350.
 4  4 [Bremen]                    3767.
 5  5 [Nordrhein-Westfalen]       3673.
 6  6 [Hessen]                    3860.
 7  7 [Rheinland-Pfalz]           3859.
 8  8 [Baden-Württemberg]         3691.
 9  9 [Bayern]                    3634.
10 10 [Saarland]                  3510.
11 11 [Berlin]                    3528.
12 12 [Brandenburg]               2960.
13 13 [Mecklenburg-Vorpommern]    3034.
14 14 [Sachsen]                   2897.
15 15 [Sachsen-Anhalt]            2757.
16 16 [Thüringen]                 2835.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Bula) <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_inc =</span> <span class="fu">mean</span>(F518_SUF, <span class="at">na.rm =</span> T),</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">median_inc =</span> <span class="fu">median</span>(F518_SUF, <span class="at">na.rm =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
   Bula                        mean_inc median_inc
   &lt;dbl+lbl&gt;                      &lt;dbl&gt;      &lt;dbl&gt;
 1  1 [Schleswig-Holstein]        3495.       2900
 2  2 [Hamburg]                   3837.       3100
 3  3 [Niedersachsen]             3350.       3000
 4  4 [Bremen]                    3767.       3300
 5  5 [Nordrhein-Westfalen]       3673.       3200
 6  6 [Hessen]                    3860.       3300
 7  7 [Rheinland-Pfalz]           3859.       3000
 8  8 [Baden-Württemberg]         3691.       3100
 9  9 [Bayern]                    3634.       3000
10 10 [Saarland]                  3510.       3000
11 11 [Berlin]                    3528.       2900
12 12 [Brandenburg]               2960.       2700
13 13 [Mecklenburg-Vorpommern]    3034.       2600
14 14 [Sachsen]                   2897.       2500
15 15 [Sachsen-Anhalt]            2757.       2400
16 16 [Thüringen]                 2835.       2500</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Bula <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Bula) <span class="sc">%&gt;%</span> </span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_inc =</span> <span class="fu">mean</span>(F518_SUF, <span class="at">na.rm =</span> T) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  Bula                    mean_inc
  &lt;dbl+lbl&gt;                  &lt;dbl&gt;
1 3 [Niedersachsen]          3350.
2 5 [Nordrhein-Westfalen]    3673.</code></pre>
</div>
</div>
<!-- ::: callout-tip -->
<!-- Für den Kennzahlenvergleich können wir auch die Schreibweise mit `[]` verwenden, beispielsweise können wir für das gesamte `summary` die Differenz zwischen NRW und Niedersachsen bilden: -->
<!-- ```{r sw5_su_vgl} -->
<!-- summary(etb18$F518_SUF[etb18$Bula == 5], na.rm = T) - -->
<!--   summary(etb18$F518_SUF[etb18$Bula == 3], na.rm = T)  -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: note -->
<!-- [**Häufige Fehlermeldungen**](#rerror) -->
<!-- ::: -->
</section>
<section id="ue3_4" class="level3" data-number="3.7.3">
<h3 data-number="3.7.3" class="anchored" data-anchor-id="ue3_4"><span class="header-section-number">3.7.3</span> <a href="#descue4">Übung</a></h3>
</section>
</section>
<section id="übungen" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="übungen"><span class="header-section-number">3.8</span> Übungen</h2>
<!-- {{< include _03_0_ueb.qmd >}} -->
<p>Alle Übungen beziehen sich auf die Erwerbstätigenbefragung:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>etb18 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"./data/BIBBBAuA_2018_suf1.0.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="./02_intro.html#import">Abschnitt zum Einlesen</a></p>
<section id="descue1" class="level3" data-number="3.8.1">
<h3 data-number="3.8.1" class="anchored" data-anchor-id="descue1"><span class="header-section-number">3.8.1</span> Übung 1</h3>
<p>Wir interessieren uns für die Variable <code>gkpol</code>, welche die Größe der Wohngemeinde der Befragten enthält:</p>
<div class="cell">
<div class="cell-output-display">

<div id="hpzrcsqbie" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hpzrcsqbie .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 9px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hpzrcsqbie .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hpzrcsqbie .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hpzrcsqbie .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hpzrcsqbie .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hpzrcsqbie .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hpzrcsqbie .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hpzrcsqbie .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hpzrcsqbie .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hpzrcsqbie .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hpzrcsqbie .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hpzrcsqbie .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hpzrcsqbie .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hpzrcsqbie .gt_from_md > :first-child {
  margin-top: 0;
}

#hpzrcsqbie .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hpzrcsqbie .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hpzrcsqbie .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hpzrcsqbie .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hpzrcsqbie .gt_row_group_first td {
  border-top-width: 2px;
}

#hpzrcsqbie .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hpzrcsqbie .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hpzrcsqbie .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hpzrcsqbie .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hpzrcsqbie .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hpzrcsqbie .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hpzrcsqbie .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hpzrcsqbie .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hpzrcsqbie .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hpzrcsqbie .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hpzrcsqbie .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hpzrcsqbie .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hpzrcsqbie .gt_left {
  text-align: left;
}

#hpzrcsqbie .gt_center {
  text-align: center;
}

#hpzrcsqbie .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hpzrcsqbie .gt_font_normal {
  font-weight: normal;
}

#hpzrcsqbie .gt_font_bold {
  font-weight: bold;
}

#hpzrcsqbie .gt_font_italic {
  font-style: italic;
}

#hpzrcsqbie .gt_super {
  font-size: 65%;
}

#hpzrcsqbie .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#hpzrcsqbie .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hpzrcsqbie .gt_indent_1 {
  text-indent: 5px;
}

#hpzrcsqbie .gt_indent_2 {
  text-indent: 10px;
}

#hpzrcsqbie .gt_indent_3 {
  text-indent: 15px;
}

#hpzrcsqbie .gt_indent_4 {
  text-indent: 20px;
}

#hpzrcsqbie .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">unter 2.000 Einwohner</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_left">2.000 bis unter 5.000 Einwohner</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_left">5.000 bis unter 20.000 Einwohner</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_left">20.000 bis unter 50.000 Einwohner</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_left">50.000 bis unter 100.000 Einwohner</td>
<td class="gt_row gt_right">5</td></tr>
    <tr><td class="gt_row gt_left">100.000 bis unter 500.000 Einwohner</td>
<td class="gt_row gt_right">6</td></tr>
    <tr><td class="gt_row gt_left">500.000 und mehr Einwohner</td>
<td class="gt_row gt_right">7</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<ul>
<li>Lassen Sie sich eine Tabelle mit den absoluten Häufigkeiten anzeigen, nutzen Sie dafür sowohl <code>table()</code>, <code>xtabs()</code> als auch <code>count()</code> (Denken Sie daran, <code>{tidyverse}</code> zu laden für <code>count()</code>).</li>
<li>Lassen Sie sich der relativen Häufigkeiten (Anteile) ausgeben (nutzen sie entweder <code>table()</code> oder <code>xtabs()</code>)</li>
<li>Erstellen Sie eine Kontingenztabelle, indem Sie neben <code>gkpol</code> auch das Geschlecht <code>S1</code> (2 = Frauen, 1 = Männer) mit einbeziehen</li>
<li>Wie viel Prozent der Befragten sind Frauen, die in einer Gemeinde mit unter 2000 Einwohnern leben? Berechnen Sie die relativen Häufigkeiten.</li>
</ul>
<p><a href="#ue3_1">Zurück nach oben</a></p>
</section>
<section id="descue2" class="level3" data-number="3.8.2">
<h3 data-number="3.8.2" class="anchored" data-anchor-id="descue2"><span class="header-section-number">3.8.2</span> Übung 2</h3>
<p>Wir interessieren uns für die Variable <code>S3</code>. Die Variable <code>S3</code> erfasst den höchsten allgemeinen Schulabschluss der Befragten. Erstellen Sie mit Hilfe von <code>count()</code> eine Tabelle mit absoluten, relativen und kumulierten relativen Häufigkeiten.</p>
<ul>
<li>Erstellen Sie zunächst eine Auszählung mit <code>count()</code> und fügen Sie dann die relativen und kumulierten relativen Häufigkeiten hinzu.</li>
<li>Profi-Aufgabe: Ersetzen Sie ggf. Werte mit <code>NA</code> und lassen Sie sich die Tabelle erneut ausgeben. <a href="#NA03">Siehe hier</a></li>
</ul>
<p><a href="#ue3_2">Zurück nach oben</a></p>
</section>
<section id="descue3" class="level3" data-number="3.8.3">
<h3 data-number="3.8.3" class="anchored" data-anchor-id="descue3"><span class="header-section-number">3.8.3</span> Übung 3</h3>
<ul>
<li>Erstellen Sie eine vollständige Häufigkeitstabelle für die Variable <code>gkpol</code> und das Geschlecht (<code>S1</code>)
<ul>
<li>Verwenden Sie die Befehle aus Übung 2- was müssen Sie anpassen, um die Tabelle für <code>gkpol</code></li>
<li>Erweitern Sie jetzt die Auszählung um <code>S1</code></li>
<li>Berechnen Sie die Anteile von <code>gkpol</code> innerhalb von Männern und Frauen.</li>
<li>Wie viel Prozent der Frauen leben in einer Gemeinde mit unter 2000 Einwohnern?<br>
</li>
<li>Profi-Aufgabe: Wie viel Prozent der Befragten, die in einer Gemeinde mit unter 2000 Einwohnern leben, sind Frauen? (<code>S1</code> = 2, <code>gkpol</code> = 1)</li>
</ul></li>
</ul>
<p><a href="#ue3_3">Zurück nach oben</a></p>
</section>
<section id="descue4" class="level3" data-number="3.8.4">
<h3 data-number="3.8.4" class="anchored" data-anchor-id="descue4"><span class="header-section-number">3.8.4</span> Übung 4</h3>
<p>Beschreiben Sie das Alter der Befragten (<code>zpalter</code>) mit <code>summary</code> und erstellen Sie selbst einen Überblick mit Hilfe von <code>summarise()</code>, der einen Vergleich des Befragtenalters nach Gemeindegrößen erlaubt.</p>
<ul>
<li>Überschreiben Sie zunächst die Missings mit <code>NA</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>etb18<span class="sc">$</span>zpalter[etb18<span class="sc">$</span>zpalter<span class="sc">&gt;</span><span class="dv">100</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Erstellen Sie einen Überblick mit <code>summary()</code></li>
<li>Erstellen Sie einen Überblick mit dem Minimum, Median, arith. Mittel, Varianz und Maximum der Alterswerte mit Hilfe von <code>summarise()</code></li>
<li>Erweitern Sie diesen Überblick dann so, dass sie einen Vergleich der Kennzahlen für die verschieden <code>gkpol</code>-Kategorien ausgegeben bekommen.</li>
</ul>
<p><a href="#ue3_4">Zurück nach oben</a></p>
</section>
</section>
<section id="hinweise" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="hinweise"><span class="header-section-number">3.9</span> Hinweise</h2>
<section id="round" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="round"><span class="header-section-number">3.9.1</span> Runden mit <code>round()</code></h3>
<p>Erläuterung: Sie können mit <code>round(x , 3)</code> Werte auf eine gewisse Zahl von Ziffern runden. Die zweite Zahl in der Klammer (nach dem Komma) gibt an, wieviele Dezimalstellen wir möchten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">21.12121123</span>,<span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21.121</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">21.12121123</span>,<span class="at">digits =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21.12121</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">21.12121123</span>,<span class="at">digits =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21</code></pre>
</div>
</div>
<p>Wir können also die relativen Häufigkeiten runden und so die Tabelle von oben übersichtlicher machen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>S1<span class="sc">+</span>m1202, <span class="at">data =</span> etb18) <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>(.,<span class="at">margin =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(.,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   m1202
S1      1     2     3     4
  1 0.059 0.435 0.107 0.399
  2 0.050 0.497 0.066 0.387</code></pre>
</div>
</div>
</section>
<section id="wie-kann-ich-mir-in-r-automatisch-die-häufigsteseltenste-ausprägung-ausgeben-lassen" class="level3" data-number="3.9.2">
<h3 data-number="3.9.2" class="anchored" data-anchor-id="wie-kann-ich-mir-in-r-automatisch-die-häufigsteseltenste-ausprägung-ausgeben-lassen"><span class="header-section-number">3.9.2</span> Wie kann ich mir in R automatisch die häufigste/seltenste Ausprägung ausgeben lassen?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>t4 <span class="ot">&lt;-</span> <span class="fu">table</span>(etb18<span class="sc">$</span>zpalter)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>t4[<span class="fu">which</span>(t4 <span class="sc">==</span> <span class="fu">max</span>(t4))] <span class="co"># Modus</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 54 
790 </code></pre>
</div>
</div>
<p>54 ist mit 790 Befragten die häufigste Ausprägung.</p>
</section>
<section id="gini_graph" class="level3" data-number="3.9.3">
<h3 data-number="3.9.3" class="anchored" data-anchor-id="gini_graph"><span class="header-section-number">3.9.3</span> Gini-Koeffizient</h3>
<p>Zur Beschreibung der Verteilung von Einkommens- und Vermögensdaten wird häufig der Gini-Koeffizient verwendet. Der Gini-Koeffizient beruht auf der Fläche zwischen der Lorenzkurve und der Gleichverteilung. Auf der x-Achse werden die kumulierten Perzentile der Befragten abgetragen, auf der y-Achse die Perzentile des HH-Einkommens:</p>
<div class="cell" data-layout-align="center" data-hash="03_desc_cache/html/gini_plot1_6eed29cba7a9ac3b6c926d3e3e7fe4a9">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03_desc_files/figure-html/gini_plot1-1.png" style="width:75.0%;height:75.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="03_desc_cache/html/unnamed-chunk-36_3997b23134881691aa3ec3125978256f">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03_desc_files/figure-html/unnamed-chunk-36-1.png" style="width:75.0%;height:75.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./02_intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Arbeiten mit Datensätzen in R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04_viz.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Visualisierung mit <code>{ggplot2}</code></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Alle Kursinhalte <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> 2022-2023 von <a href="https://afilser.netlify.app/">Andreas Filser</a><br> <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC Lizenz mit Namensnennung <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-by" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-nc" aria-hidden="true"></i></a><br> Erstellt mit <i class="fa-brands fa-r-project" aria-hidden="true"></i>, Code <a href="https://github.com/filius23/BIBB_R">hier einsehbar <i class="fa-brands fa-github" aria-hidden="true"></i></a></div>   
  </div>
</footer>



</body></html>